paths:
  /descriptions:
    post:
      tags:
        - description
      summary: Create description
      description: |-
        Creates a description.
      operationId: createDescription
      requestBody:
        description: Description object that needs to be added
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Description'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Description'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Description'
      security:
        - bearerAuth:
          - create:project
          - create:project.all
  /descriptions/{id}:
    get:
      tags:
        - description
      summary: Get description
      description: |-
        Returns a description.
      operationId: getDescription
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
            example: 123e4567-e89b-12d3-a456-426614174000
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Description'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Description'
      security:
        - bearerAuth:
          - read:project
          - read:project.all
    put:
      tags:
        - description
      summary: Update description
      description: |-
        Updates a description.
      operationId: updateDescription
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
            example: 123e4567-e89b-12d3-a456-426614174000
      requestBody:
        description: Description object that needs to be updated
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Description'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Description'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Description'
      security:
        - bearerAuth:
          - update:project
          - update:project.all
    delete:
      tags:
        - description
      summary: Delete description
      description: |-
        Deletes a description.
      operationId: deleteDescription
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
            example: 123e4567-e89b-12d3-a456-426614174000
      responses:
        '204':
          description: No Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Description'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Description'
      security:
        - bearerAuth:
          - delete:project
          - delete:project.all
  /descriptions/{description_id}/language:
    post:
      tags:
        - description
      summary: Create description language
      description: |-
        Creates a description language.
      operationId: createDescriptionLanguage
      parameters:
        - name: description_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
            example: 123e4567-e89b-12d3-a456-426614174000
      requestBody:
        description: Description language object that needs to be added
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DescriptionLanguage'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DescriptionLanguage'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DescriptionLanguage'
      security:
        - bearerAuth:
          - create:project
          - create:project.all
  /descriptions/{description_id}/language/{language_id}:
    get:
      tags:
        - description
      summary: Get description language
      description: |-
        Returns a description language.
      operationId: getDescriptionLanguage
      parameters:
        - name: description_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
            example: 123e4567-e89b-12d3-a456-426614174000
        - name: language_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
            example: 123e4567-e89b-12d3-a456-426614174000
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DescriptionLanguage'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DescriptionLanguage'
      security:
        - bearerAuth:
          - read:project
          - read:project.all
    put:
      tags:
        - description
      summary: Update description language
      description: |-
        Updates a description language.
      operationId: updateDescriptionLanguage
      parameters:
        - name: description_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
            example: 123e4567-e89b-12d3-a456-426614174000
        - name: language_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
            example: 123e4567-e89b-12d3-a456-426614174000
      requestBody:
        description: Description language object that needs to be updated
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DescriptionLanguage'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DescriptionLanguage'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DescriptionLanguage'
      security:
        - bearerAuth:
          - update:project
          - update:project.all
    delete:
      tags:
        - description
      summary: Delete description language
      description: |-
        Deletes a description language.
      operationId: deleteDescriptionLanguage
      parameters:
        - name: description_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
            example: 123e4567-e89b-12d3-a456-426614174000
        - name: language_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
            example: 123e4567-e89b-12d3-a456-426614174000
    security:
      - bearerAuth:
        - delete:project
        - delete:project.all

components:
  schemas:
    Description:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
          nullable: true
        languages:
          type: array
          readOnly: true
          items:
            $ref: '#/components/schemas/DescriptionLanguage'
    DescriptionLanguage:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
        language:
          type: string
          example: DEU
          maxLength: 5
        text:
          type: string
          nullable: true
          format: "clob"
          example: Test Project
          description: This field can be pretty long as it is a "clob" in the database.